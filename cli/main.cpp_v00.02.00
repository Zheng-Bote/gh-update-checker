#include <iostream>
#include "check_gh-update.hpp"

int main() {
    using namespace ghupdate;

    auto info = check_github_update(
        "https://api.github.com/repos/nlohmann/json/releases/latest",
        "3.11.2"
    );

    std::cout << "Latest: " << info.latestVersion << "\n";
    std::cout << "Update available: " << std::boolalpha << info.hasUpdate << "\n";

    auto fut = check_github_update_async(
        "https://api.github.com/repos/nlohmann/json/releases/latest",
        "3.11.2"
    );

    auto asyncInfo = fut.get();
    std::cout << "Async latest: " << asyncInfo.latestVersion << "\n";
}
